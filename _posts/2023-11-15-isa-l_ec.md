---
title: erasure code in ISA-L
author: Alex
date: 2023-11-15
category: tech
layout: post
--- 

## 纠删码

对于纠删码(erasure code)的介绍有很多，在此不再赘述，在本文的第一个部分，我主要介绍我对纠删码，主要是RS码的理解。

纠删码的基本原理在于，构造一个行向量乘以数据矩阵，可以生成一个数据矩阵行的一个线性排列。显然，如果对于k个数据块的m个校验向量，只要这m个向量线性无关，那么在最多损失m个数据块的情况下，就可以通过这m个向量和剩余的k-m个数据块和m个校验快恢复所有k个数据块。

具体来说，假设我们需要恢复di1,...,dim几个块，那么我们需要删去(k+m)*k的矩阵中的第i1,...,im行，然后求出剩余矩阵的逆矩阵作为恢复矩阵。恢复矩阵的第i1,...,im行乘以剩余的k个数据块，就可以得到di1,...,dim的值。

需要注意的是，如果损失的是校验快，那么逆矩阵的对应行需要乘以原矩阵,才能生成恢复矩阵。

但是这样存在一个问题：如果按照常规的四则运算进行计算，那么在计算逆矩阵的时候，会出现大量的浮点数运算，这会导致计算量过大，因此需要寻找一种更加高效的计算方法。

## 有限域

因此，我们引入有限域(finite field)的概念。一般来说，我们在G(2^8)上进行运算，即在一个8位的字节上进行运算。这样，我们可以定义在0-255上的加法和乘法，使得这两种运算满足结合律、交换律、分配律等性质，同时也有减法和除法的定义。具体的定义可以参考[这里](https://www.zhihu.com/question/22072020/answer/170701841)。

这样做的好处在于将数据的运算限制在一个字节的范围中。同时，加减法可以简单地转化为异或运算，乘除法可以转化为查表运算。

## [ISA-L]()